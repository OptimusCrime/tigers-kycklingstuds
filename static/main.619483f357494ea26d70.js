/*! For license information please see main.619483f357494ea26d70.js.LICENSE.txt */
(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();const e=t.p+"sprites/kyckling/air.png",n=t.p+"sprites/kyckling/walk1.png",r=t.p+"sprites/kyckling/walk2.png",i=t.p+"sprites/pumpa/pumpa1.png",o=t.p+"sprites/pumpa/pumpa2.png",a=t.p+"sprites/pumpa/pumpa3.png",u=t.p+"sprites/shark/shark_left.png",c=t.p+"sprites/shark/shark_right.png",s=t.p+"sprites/background.png",l=t.p+"sprites/cloud.png",f=t.p+"sprites/ground.png",p=t.p+"sprites/score.png",h=t.p+"sprites/water.png";var y=function(t,e){return{x:t,y:e}},m=function(t,e){return{width:t,height:e}},v=function(t){return Math.PI/180*t},b=function(){return 3+Math.floor(1.3333*Math.random())};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function g(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return k(s,"_invoke",function(n,r,i){var o,u,c,s=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,c=t,p.n=n,a}};function h(n,r){for(u=n,c=r,e=0;!f&&s&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,y=o[2];n>3?(i=y===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<y&&(i=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,y),u=l,c=y;(e=u<2?t:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,c)):p.n=c:p.v=c);try{if(s=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){o=t,u=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,i,o),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(k(e={},r,function(){return this}),e),f=s.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,k(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=s,k(f,"constructor",s),k(s,"constructor",c),c.displayName="GeneratorFunction",k(s,i,"GeneratorFunction"),k(f),k(f,i,"Generator"),k(f,r,function(){return this}),k(f,"toString",function(){return"[object Generator]"}),(g=function(){return{w:o,m:p}})()}function k(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}k=function(t,e,n,r){function o(e,n){k(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},k(t,e,n,r)}function w(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P(r.key),r)}}function P(t){var e=function(t){if("object"!=d(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:e+""}var T=function(t){var e=new Image;return e.src=t,e},x=y(447,-8),j=y(90,132),O=y(0,296),F=y(-40,125),C=y(549,226),E=m(32,36),L=m(148,101),G={KycklingAir:T(e),KycklingWalk1:T(n),KycklingWalk2:T(r),Pumpa1:T(i),Pumpa2:T(o),Pumpa3:T(a),SharkLeft:T(u),SharkRight:T(c),Background:T(s),Cloud:T(l),Ground:T(f),Score:T(p),Water:T(h)},A=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"loadAssets",value:function(t){return new Promise(function(e,n){G[t].onload=function(){return e()}})}},{key:"execute",value:(n=g().m(function t(){var e=this;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all(Object.keys(G).map(function(t){return e.loadAssets(t)}));case 1:return t.a(2,t.v)}},t)}),r=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){w(o,r,i,a,u,"next",t)}function u(t){w(o,r,i,a,u,"throw",t)}a(void 0)})},function(){return r.apply(this,arguments)})}],e&&S(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function _(t){var e=function(t){if("object"!=M(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==M(e)?e:e+""}var I=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timeslots=0,this.releaseTime=[],this.releaseCount=0,this.nextLevelChange=5,this.initReleaseTimeTable(1)},e=[{key:"tick",value:function(t,e){this.releaseCount>=this.nextLevelChange&&this.initReleaseTimeTable(this.timeslots+1,4),this.decreaseQueueWaitingTime(t,e)}},{key:"initReleaseTimeTable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.timeslots=t,this.releaseTime=[];for(var n=0;n<t;n++)this.releaseTime.push(45*n/t+9973*n%t*45+45*e);this.nextLevelChange=5*t*(1+t)/2}},{key:"decreaseQueueWaitingTime",value:function(t,e){for(var n=0;n<this.releaseTime.length;n++)this.releaseTime[n]<=0&&(this.releaseTime[n]+=45*b(),this.releaseCount++,t.getKicklings().add()),this.releaseTime[n]-=e}}],e&&K(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var e=function(t){if("object"!=R(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==R(e)?e:e+""}var B=[G.Pumpa1,G.Pumpa2,G.Pumpa3],N=B.length-1,H="increase",X=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.relativeTick=0,this.position=y(200,306),this.animationFrame=0,this.animationFramesDirection=H}return e=t,r=[{key:"pumpaXPosition",value:function(t){return Math.min(420,Math.max(60,t-69))}}],(n=[{key:"getSprite",value:function(){return B[this.animationFrame]}},{key:"tick",value:function(e){this.relativeTick++,this.position=y(t.pumpaXPosition(e.x),this.position.y),this.relativeTick>=7&&(this.updateAnimationFrame(),this.relativeTick=0)}},{key:"getPosition",value:function(){return this.position}},{key:"checkBounce",value:function(t){var e=t.getPosition().x+E.width;return e>=this.position.x&&e<=this.position.x+L.width}},{key:"updateAnimationFrame",value:function(){if(this.animationFramesDirection===H){var t=this.animationFrame+1;return t>N?(this.animationFrame=N,void(this.animationFramesDirection="decrease")):void(this.animationFrame=t)}var e=this.animationFrame-1;e<=0&&(this.animationFrame=0,this.animationFramesDirection=H),this.animationFrame=e}}])&&W(e.prototype,n),r&&W(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q(r.key),r)}}function Q(t){var e=function(t){if("object"!=$(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}var U=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cloud1=y(-148,0)},(e=[{key:"tick",value:function(t){this.cloud1=this.updateCloud1Position(t)}},{key:"getCloud1Position",value:function(){return this.cloud1}},{key:"updateCloud1Position",value:function(t){var e=this.cloud1.x+3*t;return y(e>=750?-148:e,this.cloud1.y)}}])&&q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Y=function(t){return t.LEFT="LEFT",t.RIGHT="RIGHT",t}({});function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V(r.key),r)}}function V(t){var e=function(t){if("object"!=z(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==z(e)?e:e+""}var Z=285,tt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=y(100,Z),this.sprite=G.SharkRight,this.direction=Y.RIGHT},(e=[{key:"tick",value:function(t){var e=this.position.x+(this.direction===Y.RIGHT?4:-4)*t;return this.direction===Y.RIGHT&&e>=520?(this.direction=Y.LEFT,this.sprite=G.SharkLeft,void(this.position=y(520,Z))):this.direction===Y.LEFT&&e<=100?(this.direction=Y.RIGHT,this.sprite=G.SharkRight,void(this.position=y(100,Z))):void(this.position=y(e,Z))}},{key:"getSprite",value:function(){return this.sprite}},{key:"getPosition",value:function(){return this.position}}])&&J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rt(r.key),r)}}function rt(t){var e=function(t){if("object"!=et(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==et(e)?e:e+""}var it=function(t){return t.WALK="WALK",t.FALL="FALL",t}(it||{}),ot=[G.KycklingWalk1,G.KycklingWalk2],at=ot.length-1,ut=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accumulator=0,this.position=y(-65,58),this.animationFrame=0,this.mode=it.WALK,this.dy=-5,this.rotation=0,this.kill=!1},(e=[{key:"getSprite",value:function(){return this.mode===it.FALL?G.KycklingAir:ot[this.animationFrame]}},{key:"tick",value:function(t,e){if(this.mode===it.FALL)this.rotation+=8*e,this.rotation>=360&&(this.rotation=0);else if(this.mode===it.WALK&&(this.accumulator+=e,this.accumulator>=5)){this.accumulator-=5;var n=this.animationFrame+1;this.animationFrame=n>at?0:n}if(t.isPaused())return this;if(this.mode===it.WALK)return this.position=y(this.position.x+2*e,this.position.y),this.position.x>=75&&this.position.x<=520?(this.mode=it.FALL,this):this.position.x>=620?(t.incrementScore(),this.kill=!0,this):this;if(this.mode===it.FALL){var r=this.position.x+3*e,i=this.position.y+this.dy*e;return this.dy+=e,i>=270&&this.dy>=0&&(this.position=y(r,i),t.getPumpa().checkBounce(this))?(this.dy=-22,this):i>=290&&this.dy>=0?(this.position=y(r,290),this.dy=-22,t.getPumpa().checkBounce(this)||(this.kill=!0),this):r>520&&i>=160&&this.dy>=0?(this.position=y(r,160),this.mode=it.WALK,this.rotation=0,this):(this.position=y(r,i),this)}return this}},{key:"getPosition",value:function(){return this.position}},{key:"getRotation",value:function(){return this.rotation}},{key:"shouldKill",value:function(){return this.kill}}])&&nt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lt(r.key),r)}}function lt(t){var e=function(t){if("object"!=ct(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ct(e)?e:e+""}var ft=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.kycklings=[]},(e=[{key:"add",value:function(){this.kycklings.push(new ut)}},{key:"get",value:function(){return this.kycklings}},{key:"tick",value:function(t,e){this.kycklings=this.kycklings.filter(function(t){return!t.shouldKill()}).map(function(n){return n.tick(t,e)})}}])&&st(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function ht(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return yt(s,"_invoke",function(n,r,i){var o,u,c,s=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,c=t,p.n=n,a}};function h(n,r){for(u=n,c=r,e=0;!f&&s&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,y=o[2];n>3?(i=y===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<y&&(i=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,y),u=l,c=y;(e=u<2?t:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,c)):p.n=c:p.v=c);try{if(s=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){o=t,u=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,i,o),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(yt(e={},r,function(){return this}),e),f=s.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,yt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=s,yt(f,"constructor",s),yt(s,"constructor",c),c.displayName="GeneratorFunction",yt(s,i,"GeneratorFunction"),yt(f),yt(f,i,"Generator"),yt(f,r,function(){return this}),yt(f,"toString",function(){return"[object Generator]"}),(ht=function(){return{w:o,m:p}})()}function yt(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}yt=function(t,e,n,r){function o(e,n){yt(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},yt(t,e,n,r)}function mt(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bt(r.key),r)}}function bt(t){var e=function(t){if("object"!=pt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==pt(e)?e:e+""}var dt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onCanvasMouseMove=this.onCanvasMouseMove.bind(this),this.onCanvasMouseOut=this.onCanvasMouseOut.bind(this),this.canvas=document.getElementById("game"),this.canvas.width=640,this.canvas.height=400,this.canvas.onmousemove=this.onCanvasMouseMove,this.canvas.onmouseout=this.onCanvasMouseOut,this.ctx=this.canvas.getContext("2d"),this.oldTimeStamp=(new Date).getTime(),this.paused=!0,this.mousePosition=y(0,0),this.spawnControl=new I,this.score=0,this.pumpa=new X,this.clouds=new U,this.shark=new tt,this.kycklings=new ft},e=[{key:"start",value:(n=ht().m(function t(){var e,n=this;return ht().w(function(t){for(;;)switch(t.n){case 0:return e=new A,t.n=1,e.execute();case 1:window.requestAnimationFrame(function(){return n.tick()});case 2:return t.a(2)}},t)}),r=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){mt(o,r,i,a,u,"next",t)}function u(t){mt(o,r,i,a,u,"throw",t)}a(void 0)})},function(){return r.apply(this,arguments)})},{key:"getPumpa",value:function(){return this.pumpa}},{key:"getKicklings",value:function(){return this.kycklings}},{key:"isPaused",value:function(){return this.paused}},{key:"incrementScore",value:function(){this.score++}},{key:"onCanvasMouseMove",value:function(t){if(this.paused)this.paused=!1;else{var e=this.canvas.getBoundingClientRect();this.mousePosition=y(t.clientX-e.left,t.clientY-e.top)}}},{key:"onCanvasMouseOut",value:function(){this.paused=!0}},{key:"calculateFramesPerSecond",value:function(t){return Math.round(1/((t-this.oldTimeStamp)/1e3))}},{key:"calculateDelta",value:function(t){return(t-this.oldTimeStamp)/40}},{key:"tick",value:function(){var t=this,e=(new Date).getTime(),n=this.calculateDelta(e);this.resetScene(),this.updateMovingElements(n),this.updateKycklings(n),this.draw(e),this.drawKycklings(),this.paused||this.spawnControl.tick(this,n),this.oldTimeStamp=e,window.requestAnimationFrame(function(){return t.tick()})}},{key:"resetScene",value:function(){this.ctx.clearRect(0,0,640,400)}},{key:"writeScoreText",value:function(){this.ctx.font="bold 26px Arial",this.ctx.fillStyle="black",this.ctx.fillText("Poäng:",486,30),this.ctx.fillText("".concat(this.score),577,30)}},{key:"writeFramePerSecond",value:function(t){var e=this.calculateFramesPerSecond(t);isNaN(e)||(this.ctx.font="10px Arial",this.ctx.fillStyle="black",this.ctx.fillText(e.toString(),5,10))}},{key:"updateMovingElements",value:function(t){this.pumpa.tick(this.mousePosition),this.clouds.tick(t),this.shark.tick(t)}},{key:"updateKycklings",value:function(t){this.kycklings.tick(this,t)}},{key:"draw",value:function(t){this.ctx.drawImage(G.Cloud,this.clouds.getCloud1Position().x,this.clouds.getCloud1Position().y),this.ctx.drawImage(G.Score,x.x,x.y),this.writeScoreText(),this.ctx.drawImage(G.Background,j.x,j.y),this.ctx.drawImage(this.shark.getSprite(),Math.trunc(this.shark.getPosition().x),Math.trunc(this.shark.getPosition().y)),this.ctx.drawImage(G.Water,O.x,O.y),this.ctx.drawImage(G.Ground,F.x,F.y),this.ctx.drawImage(G.Ground,C.x,C.y),this.ctx.drawImage(this.pumpa.getSprite(),this.pumpa.getPosition().x,this.pumpa.getPosition().y),this.writeFramePerSecond(t)}},{key:"drawKycklings",value:function(){var t=this;this.kycklings.get().map(function(e){t.ctx.save(),t.ctx.translate(e.getPosition().x+E.width,e.getPosition().y+E.height),t.ctx.rotate(v(e.getRotation())),t.ctx.translate(-E.width,-E.height),t.ctx.drawImage(e.getSprite(),0,0),t.ctx.rotate(-v(e.getRotation())),t.ctx.restore()})}}],e&&vt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function gt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return kt(s,"_invoke",function(n,r,i){var o,u,c,s=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,c=t,p.n=n,a}};function h(n,r){for(u=n,c=r,e=0;!f&&s&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,y=o[2];n>3?(i=y===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<y&&(i=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,y),u=l,c=y;(e=u<2?t:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,c)):p.n=c:p.v=c);try{if(s=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){o=t,u=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,i,o),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(kt(e={},r,function(){return this}),e),f=s.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,kt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=s,kt(f,"constructor",s),kt(s,"constructor",c),c.displayName="GeneratorFunction",kt(s,i,"GeneratorFunction"),kt(f),kt(f,i,"Generator"),kt(f,r,function(){return this}),kt(f,"toString",function(){return"[object Generator]"}),(gt=function(){return{w:o,m:p}})()}function kt(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}kt=function(t,e,n,r){function o(e,n){kt(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},kt(t,e,n,r)}function wt(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function St(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){wt(o,r,i,a,u,"next",t)}function u(t){wt(o,r,i,a,u,"throw",t)}a(void 0)})}}document.addEventListener("DOMContentLoaded",St(gt().m(function t(){var e;return gt().w(function(t){for(;;)switch(t.n){case 0:return e=new dt,t.n=1,e.start();case 1:return t.a(2)}},t)})))})();