/*! For license information please see main.6084ed72d8d9941b31af.js.LICENSE.txt */
(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();var e=function(t,e){return{x:t,y:e}},n=function(t,e){return{width:t,height:e}},r=function(t){return Math.PI/180*t},i=function(){return 3+Math.floor(1.3333*Math.random())};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var s=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cloud1=e(-148,0)},(n=[{key:"tick",value:function(t){this.cloud1=this.updateCloud1Position(t)}},{key:"getCloud1Position",value:function(){return this.cloud1}},{key:"updateCloud1Position",value:function(t){var n=this.cloud1.x+3*t;return e(n>=750?-148:n,this.cloud1.y)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();const c=t.p+"sprites/background.png",l=t.p+"sprites/cloud.png",f=t.p+"sprites/ground.png",p=t.p+"sprites/kyckling/air.png",h=t.p+"sprites/kyckling/walk1.png",m=t.p+"sprites/kyckling/walk2.png",y=t.p+"sprites/pumpa/pumpa1.png",v=t.p+"sprites/pumpa/pumpa2.png",b=t.p+"sprites/pumpa/pumpa3.png",g=t.p+"sprites/score.png",d=t.p+"sprites/shark/shark_left.png",k=t.p+"sprites/shark/shark_right.png",w=t.p+"sprites/tiger/1.png",S=t.p+"sprites/tiger/2.png",T=t.p+"sprites/tiger/3.png",P=t.p+"sprites/tiger/4.png",x=t.p+"sprites/tiger/5.png",j=t.p+"sprites/tiger/6.png",E=t.p+"sprites/tiger/7.png",F=t.p+"sprites/tiger/8.png",O=t.p+"sprites/tiger/9.png",C=t.p+"sprites/tiger/10.png",A=t.p+"sprites/tiger/11.png",I=t.p+"sprites/tiger/12.png",R=t.p+"sprites/tiger/13.png",L=t.p+"sprites/tiger/14.png",G=t.p+"sprites/tiger/15.png",M=t.p+"sprites/tiger/16.png",D=t.p+"sprites/tiger/17.png",_=t.p+"sprites/tombstone/1.png",K=t.p+"sprites/tombstone/2.png",N=t.p+"sprites/tombstone/3.png",W=t.p+"sprites/tombstone/4.png",B=t.p+"sprites/tombstone/5.png",H=t.p+"sprites/tombstone/6.png",X=t.p+"sprites/tombstone/7.png",$=t.p+"sprites/water.png";function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function Q(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return U(c,"_invoke",function(n,r,i){var o,u,s,c=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,s=t,p.n=n,a}};function h(n,r){for(u=n,s=r,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,m=o[2];n>3?(i=m===r)&&(s=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<m&&(i=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,m),u=l,s=m;(e=u<2?t:s)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,s)):p.n=s:p.v=s);try{if(c=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?s:n.call(r,p))!==a)break}catch(e){o=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,i,o),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(U(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,U(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,U(f,"constructor",c),U(c,"constructor",s),s.displayName="GeneratorFunction",U(c,i,"GeneratorFunction"),U(f),U(f,i,"Generator"),U(f,r,function(){return this}),U(f,"toString",function(){return"[object Generator]"}),(Q=function(){return{w:o,m:p}})()}function U(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}U=function(t,e,n,r){function o(e,n){U(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},U(t,e,n,r)}function Y(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function J(t){var e=function(t){if("object"!=q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:e+""}var V=function(t){var e=new Image;return e.src=t,e},Z=e(556,129),tt=e(447,-8),et=e(253,-8),nt=e(90,132),rt=e(0,296),it=e(-40,125),ot=e(549,226),at=n(32,36),ut=n(148,101),st={KycklingAir:V(p),KycklingWalk1:V(h),KycklingWalk2:V(m),Pumpa1:V(y),Pumpa2:V(v),Pumpa3:V(b),SharkLeft:V(d),SharkRight:V(k),Background:V(c),Cloud:V(l),Ground:V(f),Score:V(g),Water:V($),Tiger1:V(w),Tiger2:V(S),Tiger3:V(T),Tiger4:V(P),Tiger5:V(x),Tiger6:V(j),Tiger7:V(E),Tiger8:V(F),Tiger9:V(O),Tiger10:V(C),Tiger11:V(A),Tiger12:V(I),Tiger13:V(R),Tiger14:V(L),Tiger15:V(G),Tiger16:V(M),Tiger17:V(D),Tombstone1:V(_),Tombstone2:V(K),Tombstone3:V(N),Tombstone4:V(W),Tombstone5:V(B),Tombstone6:V(H),Tombstone7:V(X)},ct=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"loadAssets",value:function(t){return new Promise(function(e,n){st[t].onload=function(){return e()}})}},{key:"execute",value:(n=Q().m(function t(){var e=this;return Q().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all(Object.keys(st).map(function(t){return e.loadAssets(t)}));case 1:return t.a(2,t.v)}},t)}),r=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){Y(o,r,i,a,u,"next",t)}function u(t){Y(o,r,i,a,u,"throw",t)}a(void 0)})},function(){return r.apply(this,arguments)})}],e&&z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pt(r.key),r)}}function pt(t){var e=function(t){if("object"!=lt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lt(e)?e:e+""}var ht=function(t){return t.WALK="WALK",t.FALL="FALL",t}(ht||{}),mt=[st.KycklingWalk1,st.KycklingWalk2],yt=mt.length-1,vt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accumulator=0,this.position=e(-65,58),this.animationFrame=0,this.mode=ht.WALK,this.dy=-5,this.rotation=0,this.kill=!1},(n=[{key:"getSprite",value:function(){return this.mode===ht.FALL?st.KycklingAir:mt[this.animationFrame]}},{key:"tick",value:function(t,n){if(this.mode===ht.FALL)this.rotation+=8*n,this.rotation>=360&&(this.rotation=0);else if(this.mode===ht.WALK&&(this.accumulator+=n,this.accumulator>=2)){this.accumulator-=2;var r=this.animationFrame+1;this.animationFrame=r>yt?0:r}if(t.isPaused())return this;if(this.mode===ht.WALK)return this.position=e(this.position.x+2*n,this.position.y),this.position.x>=75&&this.position.x<=520?(this.mode=ht.FALL,this):this.position.x>=620?(t.incrementScore(),this.kill=!0,this):this;if(this.mode===ht.FALL){var i=this.position.x+3*n,o=this.position.y+this.dy*n;return this.dy+=n,o>=270&&this.dy>=0&&(this.position=e(i,o),t.getPumpa().checkBounce(this))?(this.dy=-22,this):o>=290&&this.dy>=0?(this.position=e(i,290),this.dy=-22,t.getPumpa().checkBounce(this)||(t.incrementDead(),t.addTombstone(),this.kill=!0),this):i>520&&o>=160&&this.dy>=0?(this.position=e(i,160),this.mode=ht.WALK,this.rotation=0,this):(this.position=e(i,o),this)}return this}},{key:"getPosition",value:function(){return this.position}},{key:"getRotation",value:function(){return this.rotation}},{key:"shouldKill",value:function(){return this.kill}}])&&ft(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function dt(t){var e=function(t){if("object"!=bt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==bt(e)?e:e+""}var kt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.kycklings=[]},(e=[{key:"add",value:function(){this.kycklings.push(new vt)}},{key:"get",value:function(){return this.kycklings}},{key:"tick",value:function(t,e){this.kycklings=this.kycklings.filter(function(t){return!t.shouldKill()}).map(function(n){return n.tick(t,e)})}}])&&gt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),wt=function(t){return t.LEFT="LEFT",t.RIGHT="RIGHT",t}({}),St=function(t){return t.INCREASE="INCREASE",t.DECREASE="DECREASE",t}({});function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xt(r.key),r)}}function xt(t){var e=function(t){if("object"!=Tt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tt(e)?e:e+""}var jt=[st.Pumpa1,st.Pumpa2,st.Pumpa3],Et=jt.length-1,Ft=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accumulator=0,this.position=e(200,306),this.animationFrame=0,this.animationFramesDirection=St.INCREASE}return n=t,i=[{key:"pumpaXPosition",value:function(t){return Math.min(420,Math.max(60,t-69))}}],(r=[{key:"getSprite",value:function(){return jt[this.animationFrame]}},{key:"tick",value:function(n,r){this.accumulator+=n,this.position=e(t.pumpaXPosition(r.x),this.position.y),this.accumulator>=10&&this.updateAnimationFrame()}},{key:"getPosition",value:function(){return this.position}},{key:"checkBounce",value:function(t){var e=t.getPosition().x+at.width;return e>=this.position.x&&e<=this.position.x+ut.width}},{key:"updateAnimationFrame",value:function(){if(this.accumulator-=10,this.animationFramesDirection===St.INCREASE){var t=this.animationFrame+1;return t>Et?(this.animationFrame=Et,void(this.animationFramesDirection=St.DECREASE)):void(this.animationFrame=t)}var e=this.animationFrame-1;e<=0&&(this.animationFrame=0,this.animationFramesDirection=St.INCREASE),this.animationFrame=e}}])&&Pt(n.prototype,r),i&&Pt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}();function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,At(r.key),r)}}function At(t){var e=function(t){if("object"!=Ot(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ot(e)?e:e+""}var It=285,Rt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=e(100,It),this.sprite=st.SharkRight,this.direction=wt.RIGHT},(n=[{key:"tick",value:function(t){var n=this.position.x+12*(this.direction===wt.RIGHT?1:-1)*t;return this.direction===wt.RIGHT&&n>=520?(this.direction=wt.LEFT,this.sprite=st.SharkLeft,void(this.position=e(520,It))):this.direction===wt.LEFT&&n<=100?(this.direction=wt.RIGHT,this.sprite=st.SharkRight,void(this.position=e(100,It))):void(this.position=e(n,It))}},{key:"getSprite",value:function(){return this.sprite}},{key:"getPosition",value:function(){return this.position}}])&&Ct(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mt(r.key),r)}}function Mt(t){var e=function(t){if("object"!=Lt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lt(e)?e:e+""}var Dt=[st.Tiger1,st.Tiger2,st.Tiger3,st.Tiger4,st.Tiger5,st.Tiger6,st.Tiger7,st.Tiger8,st.Tiger9,st.Tiger10,st.Tiger11,st.Tiger12,st.Tiger13,st.Tiger14,st.Tiger15,st.Tiger16,st.Tiger17],_t=Dt.length-1,Kt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accumulator=0,this.animationFrame=0,this.animationFramesDirection=St.INCREASE},(e=[{key:"getSprite",value:function(){return Dt[this.animationFrame]}},{key:"tick",value:function(t){this.accumulator+=t,this.accumulator>=1&&this.updateAnimationFrame()}},{key:"updateAnimationFrame",value:function(){if(this.accumulator-=1,this.animationFramesDirection===St.INCREASE){var t=this.animationFrame+1;return t>_t?(this.animationFrame=_t,void(this.animationFramesDirection=St.DECREASE)):void(this.animationFrame=t)}var e=this.animationFrame-1;e<=0&&(this.animationFrame=0,this.animationFramesDirection=St.INCREASE),this.animationFrame=e}}])&&Gt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bt(r.key),r)}}function Bt(t){var e=function(t){if("object"!=Nt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Nt(e)?e:e+""}var Ht=[st.Tombstone1,st.Tombstone2,st.Tombstone3,st.Tombstone4,st.Tombstone5,st.Tombstone6,st.Tombstone7],Xt=Ht.length-1,$t=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accumulator=0,this.position=e(Math.floor(371*Math.random()+60),365),this.animationFrame=0},(n=[{key:"getSprite",value:function(){return Ht[this.animationFrame]}},{key:"tick",value:function(t){return this.accumulator+=t,this.accumulator>=1.5&&this.updateAnimationFrame(),this}},{key:"getPosition",value:function(){return this.position}},{key:"updateAnimationFrame",value:function(){this.accumulator-=1.5;var t=this.animationFrame+1;this.animationFrame=t>Xt?0:t}}])&&Wt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ut(r.key),r)}}function Ut(t){var e=function(t){if("object"!=qt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qt(e)?e:e+""}var Yt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tombstones=[]},(e=[{key:"add",value:function(){this.tombstones.push(new $t)}},{key:"get",value:function(){return this.tombstones}},{key:"tick",value:function(t){this.tombstones=this.tombstones.map(function(e){return e.tick(t)})}}])&&Qt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vt(r.key),r)}}function Vt(t){var e=function(t){if("object"!=zt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==zt(e)?e:e+""}var Zt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timeslots=0,this.releaseTime=[],this.releaseCount=0,this.nextLevelChange=5,this.initReleaseTimeTable(1)},e=[{key:"tick",value:function(t,e){this.releaseCount>=this.nextLevelChange&&this.initReleaseTimeTable(this.timeslots+1,4),this.decreaseQueueWaitingTime(t,e)}},{key:"initReleaseTimeTable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.timeslots=t,this.releaseTime=[];for(var n=0;n<t;n++)this.releaseTime.push(45*n/t+9973*n%t*45+45*e);this.nextLevelChange=5*t*(1+t)/2}},{key:"decreaseQueueWaitingTime",value:function(t,e){for(var n=0;n<this.releaseTime.length;n++)this.releaseTime[n]<=0&&(this.releaseTime[n]+=45*i(),this.releaseCount++,t.getKicklings().add()),this.releaseTime[n]-=e}}],e&&Jt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return ne(c,"_invoke",function(n,r,i){var o,u,s,c=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,s=t,p.n=n,a}};function h(n,r){for(u=n,s=r,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,m=o[2];n>3?(i=m===r)&&(s=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<m&&(i=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,m),u=l,s=m;(e=u<2?t:s)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,s)):p.n=s:p.v=s);try{if(c=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?s:n.call(r,p))!==a)break}catch(e){o=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,i,o),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(ne(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,ne(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,ne(f,"constructor",c),ne(c,"constructor",s),s.displayName="GeneratorFunction",ne(c,i,"GeneratorFunction"),ne(f),ne(f,i,"Generator"),ne(f,r,function(){return this}),ne(f,"toString",function(){return"[object Generator]"}),(ee=function(){return{w:o,m:p}})()}function ne(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}ne=function(t,e,n,r){function o(e,n){ne(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},ne(t,e,n,r)}function re(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oe(r.key),r)}}function oe(t){var e=function(t){if("object"!=te(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==te(e)?e:e+""}var ae=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onCanvasMouseMove=this.onCanvasMouseMove.bind(this),this.onCanvasMouseOut=this.onCanvasMouseOut.bind(this),this.canvas=document.getElementById("game"),this.canvas.width=640,this.canvas.height=400,this.canvas.onmousemove=this.onCanvasMouseMove,this.canvas.onmouseout=this.onCanvasMouseOut,this.ctx=this.canvas.getContext("2d"),this.oldTimeStamp=(new Date).getTime(),this.paused=!0,this.mousePosition=e(0,0),this.spawnControl=new Zt,this.score=0,this.dead=0,this.tiger=new Kt,this.pumpa=new Ft,this.clouds=new s,this.shark=new Rt,this.tombstones=new Yt,this.kycklings=new kt},n=[{key:"start",value:(i=ee().m(function t(){var e,n=this;return ee().w(function(t){for(;;)switch(t.n){case 0:return e=new ct,t.n=1,e.execute();case 1:window.requestAnimationFrame(function(){return n.tick()});case 2:return t.a(2)}},t)}),o=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){re(o,n,r,a,u,"next",t)}function u(t){re(o,n,r,a,u,"throw",t)}a(void 0)})},function(){return o.apply(this,arguments)})},{key:"getPumpa",value:function(){return this.pumpa}},{key:"getKicklings",value:function(){return this.kycklings}},{key:"addTombstone",value:function(){return this.tombstones.add()}},{key:"isPaused",value:function(){return this.paused}},{key:"incrementScore",value:function(){this.score++}},{key:"incrementDead",value:function(){this.dead++}},{key:"onCanvasMouseMove",value:function(t){if(this.paused)this.paused=!1;else{var n=this.canvas.getBoundingClientRect();this.mousePosition=e(t.clientX-n.left,t.clientY-n.top)}}},{key:"onCanvasMouseOut",value:function(){this.paused=!0}},{key:"calculateFramesPerSecond",value:function(t){return Math.round(1/((t-this.oldTimeStamp)/1e3))}},{key:"calculateDelta",value:function(t){var e=(t-this.oldTimeStamp)/40;return e>1?1:e}},{key:"tick",value:function(){var t=this,e=(new Date).getTime(),n=this.calculateDelta(e);this.resetScene(),this.updateMovingElements(n),this.tiger.tick(n),this.kycklings.tick(this,n),this.tombstones.tick(n),this.draw(e),this.drawTombstones(),this.drawKycklings(),this.paused||this.spawnControl.tick(this,n),this.oldTimeStamp=e,window.requestAnimationFrame(function(){return t.tick()})}},{key:"resetScene",value:function(){this.ctx.clearRect(0,0,640,400)}},{key:"drawScore",value:function(){this.ctx.drawImage(st.Score,tt.x,tt.y),this.ctx.font="bold 26px Arial",this.ctx.fillStyle="black",this.ctx.fillText("Poäng: ".concat(this.score),475,30)}},{key:"drawDead",value:function(){this.ctx.drawImage(st.Score,et.x,et.y),this.ctx.font="bold 26px Arial",this.ctx.fillStyle="black",this.ctx.fillText("Döda: ".concat(this.dead),279,30)}},{key:"writeFramePerSecond",value:function(t){var e=this.calculateFramesPerSecond(t);isNaN(e)||(this.ctx.font="10px Arial",this.ctx.fillStyle="black",this.ctx.fillText(e.toString(),5,10))}},{key:"updateMovingElements",value:function(t){this.pumpa.tick(t,this.mousePosition),this.clouds.tick(t),this.shark.tick(t)}},{key:"draw",value:function(t){this.ctx.drawImage(st.Cloud,this.clouds.getCloud1Position().x,this.clouds.getCloud1Position().y),this.drawScore(),this.drawDead(),this.ctx.drawImage(st.Background,nt.x,nt.y),this.ctx.drawImage(this.tiger.getSprite(),Z.x,Z.y),this.ctx.drawImage(this.shark.getSprite(),Math.trunc(this.shark.getPosition().x),Math.trunc(this.shark.getPosition().y)),this.ctx.drawImage(st.Water,rt.x,rt.y),this.ctx.drawImage(st.Ground,it.x,it.y),this.ctx.drawImage(st.Ground,ot.x,ot.y),this.ctx.drawImage(this.pumpa.getSprite(),this.pumpa.getPosition().x,this.pumpa.getPosition().y),this.writeFramePerSecond(t)}},{key:"drawTombstones",value:function(){var t=this;this.tombstones.get().map(function(e){var n=e.getPosition();t.ctx.drawImage(e.getSprite(),n.x,n.y),t.ctx.restore()})}},{key:"drawKycklings",value:function(){var t=this;this.kycklings.get().map(function(e){t.ctx.save(),t.ctx.translate(e.getPosition().x+at.width,e.getPosition().y+at.height),t.ctx.rotate(r(e.getRotation())),t.ctx.translate(-at.width,-at.height),t.ctx.drawImage(e.getSprite(),0,0),t.ctx.rotate(-r(e.getRotation())),t.ctx.restore()})}}],n&&ie(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,o}();function ue(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return se(c,"_invoke",function(n,r,i){var o,u,s,c=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,s=t,p.n=n,a}};function h(n,r){for(u=n,s=r,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,m=o[2];n>3?(i=m===r)&&(s=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<m&&(i=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,m),u=l,s=m;(e=u<2?t:s)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,s)):p.n=s:p.v=s);try{if(c=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?s:n.call(r,p))!==a)break}catch(e){o=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,i,o),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(se(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,se(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,se(f,"constructor",c),se(c,"constructor",s),s.displayName="GeneratorFunction",se(c,i,"GeneratorFunction"),se(f),se(f,i,"Generator"),se(f,r,function(){return this}),se(f,"toString",function(){return"[object Generator]"}),(ue=function(){return{w:o,m:p}})()}function se(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}se=function(t,e,n,r){function o(e,n){se(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},se(t,e,n,r)}function ce(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function le(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){ce(o,r,i,a,u,"next",t)}function u(t){ce(o,r,i,a,u,"throw",t)}a(void 0)})}}document.addEventListener("DOMContentLoaded",le(ue().m(function t(){var e;return ue().w(function(t){for(;;)switch(t.n){case 0:return e=new ae,t.n=1,e.start();case 1:return t.a(2)}},t)})))})();