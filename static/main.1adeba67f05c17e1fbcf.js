/*! For license information please see main.1adeba67f05c17e1fbcf.js.LICENSE.txt */
(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();var e=function(t,e){return{x:t,y:e}},n=function(t,e){return{width:t,height:e}},r=function(t){return Math.PI/180*t},i=function(){return 3+Math.floor(1.3333*Math.random())};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cloud1=e(-148,0)},(n=[{key:"tick",value:function(t){this.cloud1=this.updateCloud1Position(t)}},{key:"getCloud1Position",value:function(){return this.cloud1}},{key:"updateCloud1Position",value:function(t){var n=this.cloud1.x+3*t;return e(n>=750?-148:n,this.cloud1.y)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();const s=t.p+"sprites/background.png",l=t.p+"sprites/cloud.png",f=t.p+"sprites/ground.png",p=t.p+"sprites/kyckling/air.png",h=t.p+"sprites/kyckling/walk1.png",y=t.p+"sprites/kyckling/walk2.png",m=t.p+"sprites/pumpa/pumpa1.png",v=t.p+"sprites/pumpa/pumpa2.png",b=t.p+"sprites/pumpa/pumpa3.png",d=t.p+"sprites/score.png",g=t.p+"sprites/shark/shark_left.png",k=t.p+"sprites/shark/shark_right.png",w=t.p+"sprites/water.png";function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function P(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return T(s,"_invoke",function(n,r,i){var o,u,c,s=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,c=t,p.n=n,a}};function h(n,r){for(u=n,c=r,e=0;!f&&s&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,y=o[2];n>3?(i=y===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<y&&(i=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,y),u=l,c=y;(e=u<2?t:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,c)):p.n=c:p.v=c);try{if(s=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){o=t,u=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,i,o),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(T(e={},r,function(){return this}),e),f=s.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,T(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=s,T(f,"constructor",s),T(s,"constructor",c),c.displayName="GeneratorFunction",T(s,i,"GeneratorFunction"),T(f),T(f,i,"Generator"),T(f,r,function(){return this}),T(f,"toString",function(){return"[object Generator]"}),(P=function(){return{w:o,m:p}})()}function T(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}T=function(t,e,n,r){function o(e,n){T(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},T(t,e,n,r)}function x(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O(r.key),r)}}function O(t){var e=function(t){if("object"!=S(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==S(e)?e:e+""}var F=function(t){var e=new Image;return e.src=t,e},C=e(447,-8),E=e(90,132),L=e(0,296),G=e(-40,125),A=e(549,226),M=n(32,36),K=n(148,101),_={KycklingAir:F(p),KycklingWalk1:F(h),KycklingWalk2:F(y),Pumpa1:F(m),Pumpa2:F(v),Pumpa3:F(b),SharkLeft:F(g),SharkRight:F(k),Background:F(s),Cloud:F(l),Ground:F(f),Score:F(d),Water:F(w)},I=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"loadAssets",value:function(t){return new Promise(function(e,n){_[t].onload=function(){return e()}})}},{key:"execute",value:(n=P().m(function t(){var e=this;return P().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all(Object.keys(_).map(function(t){return e.loadAssets(t)}));case 1:return t.a(2,t.v)}},t)}),r=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){x(o,r,i,a,u,"next",t)}function u(t){x(o,r,i,a,u,"throw",t)}a(void 0)})},function(){return r.apply(this,arguments)})}],e&&j(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var e=function(t){if("object"!=R(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==R(e)?e:e+""}var B=function(t){return t.WALK="WALK",t.FALL="FALL",t}(B||{}),N=[_.KycklingWalk1,_.KycklingWalk2],H=N.length-1,X=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accumulator=0,this.position=e(-65,58),this.animationFrame=0,this.mode=B.WALK,this.dy=-5,this.rotation=0,this.kill=!1},(n=[{key:"getSprite",value:function(){return this.mode===B.FALL?_.KycklingAir:N[this.animationFrame]}},{key:"tick",value:function(t,n){if(this.mode===B.FALL)this.rotation+=8*n,this.rotation>=360&&(this.rotation=0);else if(this.mode===B.WALK&&(this.accumulator+=n,this.accumulator>=5)){this.accumulator-=5;var r=this.animationFrame+1;this.animationFrame=r>H?0:r}if(t.isPaused())return this;if(this.mode===B.WALK)return this.position=e(this.position.x+2*n,this.position.y),this.position.x>=75&&this.position.x<=520?(this.mode=B.FALL,this):this.position.x>=620?(t.incrementScore(),this.kill=!0,this):this;if(this.mode===B.FALL){var i=this.position.x+3*n,o=this.position.y+this.dy*n;return this.dy+=n,o>=270&&this.dy>=0&&(this.position=e(i,o),t.getPumpa().checkBounce(this))?(this.dy=-22,this):o>=290&&this.dy>=0?(this.position=e(i,290),this.dy=-22,t.getPumpa().checkBounce(this)||(this.kill=!0),this):i>520&&o>=160&&this.dy>=0?(this.position=e(i,160),this.mode=B.WALK,this.rotation=0,this):(this.position=e(i,o),this)}return this}},{key:"getPosition",value:function(){return this.position}},{key:"getRotation",value:function(){return this.rotation}},{key:"shouldKill",value:function(){return this.kill}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q(r.key),r)}}function Q(t){var e=function(t){if("object"!=$(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}var U=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.kycklings=[]},(e=[{key:"add",value:function(){this.kycklings.push(new X)}},{key:"get",value:function(){return this.kycklings}},{key:"tick",value:function(t,e){this.kycklings=this.kycklings.filter(function(t){return!t.shouldKill()}).map(function(n){return n.tick(t,e)})}}])&&q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function J(t){var e=function(t){if("object"!=Y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Y(e)?e:e+""}var V=[_.Pumpa1,_.Pumpa2,_.Pumpa3],Z=V.length-1,tt="increase",et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.relativeTick=0,this.position=e(200,306),this.animationFrame=0,this.animationFramesDirection=tt}return n=t,i=[{key:"pumpaXPosition",value:function(t){return Math.min(420,Math.max(60,t-69))}}],(r=[{key:"getSprite",value:function(){return V[this.animationFrame]}},{key:"tick",value:function(n){this.relativeTick++,this.position=e(t.pumpaXPosition(n.x),this.position.y),this.relativeTick>=7&&(this.updateAnimationFrame(),this.relativeTick=0)}},{key:"getPosition",value:function(){return this.position}},{key:"checkBounce",value:function(t){var e=t.getPosition().x+M.width;return e>=this.position.x&&e<=this.position.x+K.width}},{key:"updateAnimationFrame",value:function(){if(this.animationFramesDirection===tt){var t=this.animationFrame+1;return t>Z?(this.animationFrame=Z,void(this.animationFramesDirection="decrease")):void(this.animationFrame=t)}var e=this.animationFrame-1;e<=0&&(this.animationFrame=0,this.animationFramesDirection=tt),this.animationFrame=e}}])&&z(n.prototype,r),i&&z(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(),nt=function(t){return t.LEFT="LEFT",t.RIGHT="RIGHT",t}({});function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ot(r.key),r)}}function ot(t){var e=function(t){if("object"!=rt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==rt(e)?e:e+""}var at=285,ut=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=e(100,at),this.sprite=_.SharkRight,this.direction=nt.RIGHT},(n=[{key:"tick",value:function(t){var n=this.position.x+(this.direction===nt.RIGHT?4:-4)*t;return this.direction===nt.RIGHT&&n>=520?(this.direction=nt.LEFT,this.sprite=_.SharkLeft,void(this.position=e(520,at))):this.direction===nt.LEFT&&n<=100?(this.direction=nt.RIGHT,this.sprite=_.SharkRight,void(this.position=e(100,at))):void(this.position=e(n,at))}},{key:"getSprite",value:function(){return this.sprite}},{key:"getPosition",value:function(){return this.position}}])&&it(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lt(r.key),r)}}function lt(t){var e=function(t){if("object"!=ct(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ct(e)?e:e+""}var ft=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timeslots=0,this.releaseTime=[],this.releaseCount=0,this.nextLevelChange=5,this.initReleaseTimeTable(1)},e=[{key:"tick",value:function(t,e){this.releaseCount>=this.nextLevelChange&&this.initReleaseTimeTable(this.timeslots+1,4),this.decreaseQueueWaitingTime(t,e)}},{key:"initReleaseTimeTable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.timeslots=t,this.releaseTime=[];for(var n=0;n<t;n++)this.releaseTime.push(45*n/t+9973*n%t*45+45*e);this.nextLevelChange=5*t*(1+t)/2}},{key:"decreaseQueueWaitingTime",value:function(t,e){for(var n=0;n<this.releaseTime.length;n++)this.releaseTime[n]<=0&&(this.releaseTime[n]+=45*i(),this.releaseCount++,t.getKicklings().add()),this.releaseTime[n]-=e}}],e&&st(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function ht(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return yt(s,"_invoke",function(n,r,i){var o,u,c,s=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,c=t,p.n=n,a}};function h(n,r){for(u=n,c=r,e=0;!f&&s&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,y=o[2];n>3?(i=y===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<y&&(i=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,y),u=l,c=y;(e=u<2?t:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,c)):p.n=c:p.v=c);try{if(s=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){o=t,u=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,i,o),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(yt(e={},r,function(){return this}),e),f=s.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,yt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=s,yt(f,"constructor",s),yt(s,"constructor",c),c.displayName="GeneratorFunction",yt(s,i,"GeneratorFunction"),yt(f),yt(f,i,"Generator"),yt(f,r,function(){return this}),yt(f,"toString",function(){return"[object Generator]"}),(ht=function(){return{w:o,m:p}})()}function yt(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}yt=function(t,e,n,r){function o(e,n){yt(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},yt(t,e,n,r)}function mt(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bt(r.key),r)}}function bt(t){var e=function(t){if("object"!=pt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==pt(e)?e:e+""}var dt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onCanvasMouseMove=this.onCanvasMouseMove.bind(this),this.onCanvasMouseOut=this.onCanvasMouseOut.bind(this),this.canvas=document.getElementById("game"),this.canvas.width=640,this.canvas.height=400,this.canvas.onmousemove=this.onCanvasMouseMove,this.canvas.onmouseout=this.onCanvasMouseOut,this.ctx=this.canvas.getContext("2d"),this.oldTimeStamp=(new Date).getTime(),this.paused=!0,this.mousePosition=e(0,0),this.spawnControl=new ft,this.score=0,this.pumpa=new et,this.clouds=new c,this.shark=new ut,this.kycklings=new U},n=[{key:"start",value:(i=ht().m(function t(){var e,n=this;return ht().w(function(t){for(;;)switch(t.n){case 0:return e=new I,t.n=1,e.execute();case 1:window.requestAnimationFrame(function(){return n.tick()});case 2:return t.a(2)}},t)}),o=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){mt(o,n,r,a,u,"next",t)}function u(t){mt(o,n,r,a,u,"throw",t)}a(void 0)})},function(){return o.apply(this,arguments)})},{key:"getPumpa",value:function(){return this.pumpa}},{key:"getKicklings",value:function(){return this.kycklings}},{key:"isPaused",value:function(){return this.paused}},{key:"incrementScore",value:function(){this.score++}},{key:"onCanvasMouseMove",value:function(t){if(this.paused)this.paused=!1;else{var n=this.canvas.getBoundingClientRect();this.mousePosition=e(t.clientX-n.left,t.clientY-n.top)}}},{key:"onCanvasMouseOut",value:function(){this.paused=!0}},{key:"calculateFramesPerSecond",value:function(t){return Math.round(1/((t-this.oldTimeStamp)/1e3))}},{key:"calculateDelta",value:function(t){return(t-this.oldTimeStamp)/40}},{key:"tick",value:function(){var t=this,e=(new Date).getTime(),n=this.calculateDelta(e);this.resetScene(),this.updateMovingElements(n),this.updateKycklings(n),this.draw(e),this.drawKycklings(),this.paused||this.spawnControl.tick(this,n),this.oldTimeStamp=e,window.requestAnimationFrame(function(){return t.tick()})}},{key:"resetScene",value:function(){this.ctx.clearRect(0,0,640,400)}},{key:"writeScoreText",value:function(){this.ctx.font="bold 26px Arial",this.ctx.fillStyle="black",this.ctx.fillText("Poäng:",486,30),this.ctx.fillText("".concat(this.score),577,30)}},{key:"writeFramePerSecond",value:function(t){var e=this.calculateFramesPerSecond(t);isNaN(e)||(this.ctx.font="10px Arial",this.ctx.fillStyle="black",this.ctx.fillText(e.toString(),5,10))}},{key:"updateMovingElements",value:function(t){this.pumpa.tick(this.mousePosition),this.clouds.tick(t),this.shark.tick(t)}},{key:"updateKycklings",value:function(t){this.kycklings.tick(this,t)}},{key:"draw",value:function(t){this.ctx.drawImage(_.Cloud,this.clouds.getCloud1Position().x,this.clouds.getCloud1Position().y),this.ctx.drawImage(_.Score,C.x,C.y),this.writeScoreText(),this.ctx.drawImage(_.Background,E.x,E.y),this.ctx.drawImage(this.shark.getSprite(),Math.trunc(this.shark.getPosition().x),Math.trunc(this.shark.getPosition().y)),this.ctx.drawImage(_.Water,L.x,L.y),this.ctx.drawImage(_.Ground,G.x,G.y),this.ctx.drawImage(_.Ground,A.x,A.y),this.ctx.drawImage(this.pumpa.getSprite(),this.pumpa.getPosition().x,this.pumpa.getPosition().y),this.writeFramePerSecond(t)}},{key:"drawKycklings",value:function(){var t=this;this.kycklings.get().map(function(e){t.ctx.save(),t.ctx.translate(e.getPosition().x+M.width,e.getPosition().y+M.height),t.ctx.rotate(r(e.getRotation())),t.ctx.translate(-M.width,-M.height),t.ctx.drawImage(e.getSprite(),0,0),t.ctx.rotate(-r(e.getRotation())),t.ctx.restore()})}}],n&&vt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,o}();function gt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return kt(s,"_invoke",function(n,r,i){var o,u,c,s=0,l=i||[],f=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,c=t,p.n=n,a}};function h(n,r){for(u=n,c=r,e=0;!f&&s&&!i&&e<l.length;e++){var i,o=l[e],h=p.p,y=o[2];n>3?(i=y===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<y&&(i=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,p.n=y,u=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,y),u=l,c=y;(e=u<2?t:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),h(u,c)):p.n=c:p.v=c);try{if(s=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){o=t,u=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,i,o),!0),s}var a={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(kt(e={},r,function(){return this}),e),f=s.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,kt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=s,kt(f,"constructor",s),kt(s,"constructor",c),c.displayName="GeneratorFunction",kt(s,i,"GeneratorFunction"),kt(f),kt(f,i,"Generator"),kt(f,r,function(){return this}),kt(f,"toString",function(){return"[object Generator]"}),(gt=function(){return{w:o,m:p}})()}function kt(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}kt=function(t,e,n,r){function o(e,n){kt(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},kt(t,e,n,r)}function wt(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function St(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){wt(o,r,i,a,u,"next",t)}function u(t){wt(o,r,i,a,u,"throw",t)}a(void 0)})}}document.addEventListener("DOMContentLoaded",St(gt().m(function t(){var e;return gt().w(function(t){for(;;)switch(t.n){case 0:return e=new dt,t.n=1,e.start();case 1:return t.a(2)}},t)})))})();